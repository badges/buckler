<!DOCTYPE html>
<html lang="en">
<html>
  <head>
    <meta charset="utf-8">
    <title>Buckler</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
    <link rel="icon" type="image/png" href="/favicon.png">
  </head>
  <body>
  <div class="container">
  <div class="page-header">
    <h1>⛨ Buckler ⛨</h1>
  </div>
    <img src="/v1/use-buckler-blue.png"><br/><br/>


    <p class="lead">
      <a href="https://github.com/badges/buckler">Buckler</a> is
      <a href="https://github.com/badges/shields">Shields</a> as a
      Service (ShaaS, or alternatively, Badges as a Service) for use in GitHub
      READMEs, or anywhere else. Use buckler with your favorite continuous
      integration tool, performance monitoring service API, or ridiculous
      in-joke to surface information.
    </p>

    <br/>
    <h2>Try it out</h2>
    <hr>
    <img id='test' src="/v1/play-here-yellow.png">
    &nbsp;&nbsp;&nbsp;
    <code id='markdown'>![play here](http://b.repl.ca/v1/play-here-yellow.png)</code>
    <br/><br/>
    <form class="form-inline" onsubmit="return setTest()">
      <fieldset>
      <input type="text" placeholder="Vendor" id="v" required>
      <input type="text" placeholder="Status" id="s" required>
      <select class="input-medium" id="c" onchange="toggleCustom()">
        <option value="custom">hex</option>
        <option value="brightgreen" selected="selected">brightgreen</option>
        <option value="green">green</option>
        <option value="yellowgreen">yellowgreen</option>
        <option value="yellow">yellow</option>
        <option value="orange">orange</option>
        <option value="red">red</option>
        <option value="blue">blue</option>
        <option value="lightgrey">lightgrey</option>
        <option value="grey">grey</option>
      </select>
      <input class="input-mini" type="text" placeholder="ff69b4" id="cc" disabled pattern="^[0-9A-Fa-f]{6}$">
      <button type="submit" class="btn btn-primary">Go</button>
      </fieldset>
    </form>

    <br/>
    <h2>API</h2>
    <hr>
    <p>A full up-to-date description of the API is available in the
    <a href="https://github.com/badges/buckler/blob/master/README.md">README</a>
    on GitHub.
    </p>
  </div> <!-- container -->

    <script>
      function toggleCustom() {
        var c = document.getElementById('c').value;
        var hexInput = document.getElementById('cc');
        if (c === 'custom') {
          hexInput.setAttribute('required',true);
          hexInput.removeAttribute('disabled');
        } else {
          hexInput.removeAttribute('required');
          hexInput.setAttribute('disabled',true);
        }
      }
      function replace(s) {
        s = s.replace('_', '__');
        s = s.replace(' ', '_');
        s = s.replace('-', '--');
        return escape(s);
      }

      function setTest() {
        var rv = document.getElementById('v').value;
        var rs = document.getElementById('s').value;
        var v = replace(rv);
        var s = replace(rs);

        var c = document.getElementById('c').value;
        if (c === 'custom') {
          c = replace(document.getElementById('cc').value);
        }

        var src = ['/v1/', v, '-', s, '-', c, '.png'].join('');
        document.getElementById('test').setAttribute('src', src);

        var markdown = '![' + rv + ' ' + rs + '](http://b.repl.ca' + src + ')';
        document.getElementById('markdown').innerHTML = markdown;
        return false;
      }
    </script>

    <a href="https://github.com/badges/buckler"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"></a>
  </body>
</html>

